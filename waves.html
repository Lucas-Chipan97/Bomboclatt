<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Wave Background</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        #wave-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
        }
        #wave-svg {
            width: 100%;
            height: 100%;
            position: absolute;
            bottom: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <div id="wave-container">
        <svg id="wave-svg" preserveAspectRatio="none" viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg">
            <path id="wave-path" fill="#2E6BA5" fill-opacity="1"></path>
        </svg>
    </div>

    <script>
        class WaveGenerator {
            constructor(pathElement) {
                this.path = pathElement;
                this.mouseX = 0;
                this.mouseY = 0;
                this.time = 0;
                this.animationFrame = null;

                // Smooth interpolation values
                this.smoothMouseX = 0;
                this.smoothMouseY = 0;

                this.setupEventListeners();
                this.animate();
            }

            setupEventListeners() {
                window.addEventListener('mousemove', (e) => {
                    this.mouseX = e.clientX / window.innerWidth;
                    this.mouseY = e.clientY / window.innerHeight;
                });

                window.addEventListener('resize', () => {
                    this.generatePath();
                });
            }

            smoothStep(value, target, smoothness = 0.05) {
                return value + (target - value) * smoothness;
            }

            generatePath() {
                this.time += 0.03;
                
                // Smooth mouse movement
                this.smoothMouseX = this.smoothStep(this.smoothMouseX, this.mouseX);
                this.smoothMouseY = this.smoothStep(this.smoothMouseY, this.mouseY);

                // Base wave parameters with smoother mouse influence
                const basePoints = [
                    { x: 0, baseY: 160 },
                    { x: 360, baseY: 220 },
                    { x: 720, baseY: 190 },
                    { x: 1080, baseY: 160 },
                    { x: 1440, baseY: 190 }
                ];

                // Modify points with wave and mouse interaction
                const modifiedPoints = basePoints.map((point, index) => {
                    // Gentle wave motion
                    const waveInfluence = Math.sin(this.time + index * 0.5) * 20;
                    
                    // Smooth mouse influence
                    const mouseXInfluence = Math.sin(this.smoothMouseX * Math.PI * 2) * 30;
                    const mouseYInfluence = Math.cos(this.smoothMouseY * Math.PI * 2) * 20;
                    
                    // Combine influences with reduced stutter
                    const yOffset = 
                        waveInfluence + 
                        mouseXInfluence * (1 - Math.abs(this.smoothMouseX - 0.5) * 2) * 0.7 + 
                        mouseYInfluence * (1 - Math.abs(this.smoothMouseY - 0.5) * 2) * 0.7;

                    return {
                        x: point.x,
                        y: point.baseY + yOffset
                    };
                });

                // Construct SVG path
                const pathString = `
                    M0,160 
                    Q${modifiedPoints[1].x},${modifiedPoints[1].y} 
                    ${modifiedPoints[2].x},${modifiedPoints[2].y} 
                    Q${modifiedPoints[3].x},${modifiedPoints[3].y} 
                    1440,${modifiedPoints[4].y} 
                    L1440,320 L0,320 Z
                `;

                this.path.setAttribute('d', pathString);
            }

            animate() {
                this.generatePath();
                this.animationFrame = requestAnimationFrame(() => this.animate());
            }

            stop() {
                if (this.animationFrame) {
                    cancelAnimationFrame(this.animationFrame);
                }
            }
        }

        // Initialize the wave
        const wavePath = document.getElementById('wave-svg').querySelector('path');
        const waveGenerator = new WaveGenerator(wavePath);
    </script>
</body>
</html>